<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body,
      html {
        background-color: #fff;
        margin: 0px;
        height: 100%;
        overflow-x: hidden;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div id="retina"></div>
    <!-- three.js -->
    <script src="../node_modules/three/build/three.js"></script>
    <script>
      const width = window.innerWidth;
      const height = window.innerHeight;
      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(60, 1, 1, 1000);
      camera.position.set(13, 25, 38);
      camera.lookAt(scene.position);
      var renderer = new THREE.WebGLRenderer({
        antialias: true,
      });
      renderer.setSize(width, height); //设置渲染器宽度和高度
      renderer.setClearColor("#ffffff", 1.0); //设置背景颜色
      renderer.setPixelRatio(window.devicePixelRatio); //设置设备像素比
      document.getElementById("retina").appendChild(renderer.domElement); //把渲染器放置到页面中

      var geometry = new THREE.CylinderBufferGeometry(2, 5, 20, 32, 1, true);
      var material = new THREE.ShaderMaterial({
        uniforms: {
          color1: {
            value: new THREE.Color("red"),
          },
          color2: {
            value: new THREE.Color("purple"),
          },
        },
        vertexShader: `
    varying vec2 vUv;

    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
    }
  `,
        fragmentShader: `
    uniform vec3 color1;
    uniform vec3 color2;
  
    varying vec2 vUv;
    
    void main() {
      
      gl_FragColor = vec4(mix(color1, color2, vUv.y), 1.0);
    }
  `,
        wireframe: true,
      });
      var mesh = new THREE.Mesh(geometry, material);
      scene.add(mesh);

      render();

      function render() {
        renderer.render(scene, camera);
        requestAnimationFrame(render);
      }
    </script>
  </body>
</html>
